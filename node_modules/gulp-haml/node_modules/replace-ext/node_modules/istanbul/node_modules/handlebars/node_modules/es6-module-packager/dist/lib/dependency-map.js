"use strict";
var $__Object = Object,
    $__getOwnPropertyNames = $__Object.getOwnPropertyNames,
    $__getOwnPropertyDescriptor = $__Object.getOwnPropertyDescriptor,
    $__getDescriptors = function(object) {
      var descriptors = {},
          name,
          names = $__getOwnPropertyNames(object);
      for (var i = 0; i < names.length; i++) {
        var name = names[i];
        descriptors[name] = $__getOwnPropertyDescriptor(object, name);
      }
      return descriptors;
    },
    $__createClassNoExtends = function(object, staticObject) {
      var ctor = object.constructor;
      Object.defineProperty(object, 'constructor', {enumerable: false});
      ctor.prototype = object;
      Object.defineProperties(ctor, $__getDescriptors(staticObject));
      return ctor;
    };
var _ = require("underscore");
var fs = require("fs");
var Path = require("path");
var Compiler = require("es6-module-transpiler").Compiler;
var DependencyMap = function() {
  'use strict';
  var $DependencyMap = ($__createClassNoExtends)({
    constructor: function(file) {
      var options = arguments[1] !== (void 0) ? arguments[1]: {};
      this.file = Path.resolve(file);
      this.loadedModules = {};
      this.fileList = [];
      this.options = options;
      this.options.imports = {};
      this.unique = 0;
    },
    collectDependencies: function() {
      var file = arguments[0] !== (void 0) ? arguments[0]: this.file;
      file = file.replace(/\.js$/, '') + '.js';
      console.log(file);
      this.loadedModules[file] = false;
      this.options.imports[file] = ("__module" + this.unique++ + "__");
      var source = fs.readFileSync(file);
      var compiler = new Compiler(source, file, this.options);
      compiler.imports.forEach(function(importStatement) {
        var name = importStatement.source.value;
        name = Path.resolve(Path.dirname(file), name);
        name = name.replace(/\.js$/, '') + '.js';
        if (this.loadedModules[name] === false) {
          throw new Error(("Circular dependency found " + name));
        } else if (!this.loadedModules[name]) {
          this.collectDependencies(name);
          this.checkImports(name, importStatement);
        }
      }, this);
      this.loadedModules[file] = compiler;
      this.fileList.push(file);
      return this.fileList;
    },
    toLocals: function() {
      var modules = this.loadedModules;
      var out = this.options['export'] ? ("var " + this.options['export'] + " = "): '';
      out += '(function() {\n';
      out += this.fileList.map(function(file) {
        var compiler = modules[file];
        return ("// " + file + "\n" + compiler.toLocals());
      }).join('\n');
      if (this.options['export']) {
        out += '\n  return __module0__;';
      }
      out += '\n})();\n';
      return out;
    },
    checkImports: function(name, importStatement) {
      var imported = this.loadedModules[name],
          exports = imported.exports;
      if (importStatement.kind === 'default') {
        if (!_.any(exports, function(export_) {
          return export_['default'];
        })) {
          throw new Error(("No default export for \"" + name + "\""));
        }
      } else if (importStatement.kind === 'named') {
        _.each(importStatement.specifiers, function(specifier) {
          var specifierName = specifier.id.name;
          var exported = _.any(exports, function(export_) {
            if (export_.specifiers) {
              return _.any(export_.specifiers, function(exportSpecifier) {
                return exportSpecifier.id.name === specifierName;
              });
            } else if (export_.declaration) {
              if (export_.declaration.type === 'VariableDeclaration') {
                return export_.declaration.declarations[0].id.name === specifierName;
              } else if (export_.declaration.type === 'FunctionDeclaration') {
                return export_.declaration.id.name === specifierName;
              } else if (export_.declaration.type === 'Indentifier') {
                return export_.declaration.name === specifierName;
              }
            }
          });
          if (!exported) {
            throw new Error(("No export named \"" + specifierName + "\" in \"" + name + "\""));
          }
        });
      }
    }
  }, {});
  return $DependencyMap;
}();
exports['default'] = DependencyMap;

//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG1wL3RyYW5zcGlsZWQvbGliL2RlcGVuZGVuY3ktbWFwLmpzLmVzNiIsInNvdXJjZXMiOlsidG1wL3RyYW5zcGlsZWQvbGliL2RlcGVuZGVuY3ktbWFwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNJLEdBQUEsRUFBQSxFQUFJLFFBQU8sQ0FBQyxZQUFBLENBQUE7QUFDWixHQUFBLEdBQUEsRUFBSyxRQUFPLENBQUMsSUFBQSxDQUFBO0FBQ2IsR0FBQSxLQUFBLEVBQU8sUUFBTyxDQUFDLE1BQUEsQ0FBQTtBQUNmLEdBQUEsU0FBQSxFQUFXLFFBQU8sQ0FBQyx1QkFBQSxDQUFBLENBQUEsUUFBQTtHQUVqQixjQUFBOzs7QUFDSixlQUFBLENBQUEsU0FBQSxDQUFZLElBQUEsQ0FBb0I7U0FBZCxRQUFBLDRDQUFVLEVBQUEsQ0FBQTtBQUMxQixVQUFBLENBQUEsSUFBQSxFQUFZLEtBQUEsQ0FBQSxPQUFZLENBQUMsSUFBQSxDQUFBO0FBRXpCLFVBQUEsQ0FBQSxhQUFBLEVBQXFCLEVBQUEsQ0FBQTtBQUNyQixVQUFBLENBQUEsUUFBQSxFQUFnQixFQUFBLENBQUE7QUFFaEIsVUFBQSxDQUFBLE9BQUEsRUFBZSxRQUFBO0FBQ2YsVUFBQSxDQUFBLE9BQUEsQ0FBQSxPQUFBLEVBQXVCLEVBQUEsQ0FBQTtBQUN2QixVQUFBLENBQUEsTUFBQSxFQUFjLEVBQUE7QUFBQSxLQUFBO0FBR2hCLHVCQUFBLENBQUEsU0FBQSxDQUFvQixDQUFrQjtTQUFsQixLQUFBLDRDQUFPLEtBQUEsQ0FBQSxJQUFBO0FBQ3pCLFVBQUEsRUFBTyxLQUFBLENBQUEsT0FBWSxDQUFDLE9BQUEsQ0FBUyxHQUFBLENBQUEsRUFBTSxNQUFBO0FBQ25DLGFBQUEsQ0FBQSxHQUFXLENBQUMsSUFBQSxDQUFBO0FBRVosVUFBQSxDQUFBLGFBQUEsQ0FBbUIsSUFBQSxDQUFBLEVBQVEsTUFBQTtBQUMzQixVQUFBLENBQUEsT0FBQSxDQUFB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VTtBQUNiLGlCQUFNLElBQUksTUFBSyxFQUFDLG9CQUFBLEVBQW9CLGNBQUEsRUFBYSxXQUFBLEVBQVMsS0FBQSxFQUFJLEtBQUEsQ0FBQSxDQUFBO0FBQUE7QUFBQSxTQUFBLENBQUE7QUFBQTtBQUFBO0FBQUEsR0FBQTs7O0FBT3hFLE9BQUEsQ0FBUSxTQUFBLENBQUEsRUFBYSxjQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xudmFyIGZzID0gcmVxdWlyZShcImZzXCIpO1xudmFyIFBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbnZhciBDb21waWxlciA9IHJlcXVpcmUoXCJlczYtbW9kdWxlLXRyYW5zcGlsZXJcIikuQ29tcGlsZXI7XG5cbmNsYXNzIERlcGVuZGVuY3lNYXAge1xuICBjb25zdHJ1Y3RvcihmaWxlLCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmZpbGUgPSBQYXRoLnJlc29sdmUoZmlsZSk7XG5cbiAgICB0aGlzLmxvYWRlZE1vZHVsZXMgPSB7fTtcbiAgICB0aGlzLmZpbGVMaXN0ID0gW107XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMub3B0aW9ucy5pbXBvcnRzID0ge307XG4gICAgdGhpcy51bmlxdWUgPSAwO1xuICB9XG5cbiAgY29sbGVjdERlcGVuZGVuY2llcyhmaWxlID0gdGhpcy5maWxlKSB7XG4gICAgZmlsZSA9IGZpbGUucmVwbGFjZSgvXFwuanMkLywgJycpICsgJy5qcyc7XG4gICAgY29uc29sZS5sb2coZmlsZSk7XG5cbiAgICB0aGlzLmxvYWRlZE1vZHVsZXNbZmlsZV0gPSBmYWxzZTtcbiAgICB0aGlzLm9wdGlvbnMuaW1wb3J0c1tmaWxlXSA9IGBfX21vZHVsZSR7dGhpcy51bmlxdWUrK31fX2A7XG5cbiAgICB2YXIgc291cmNlID0gZnMucmVhZEZpbGVTeW5jKGZpbGUpO1xuICAgIHZhciBjb21waWxlciA9IG5ldyBDb21waWxlcihzb3VyY2UsIGZpbGUsIHRoaXMub3B0aW9ucyk7XG5cbiAgICBjb21waWxlci5pbXBvcnRzLmZvckVhY2goZnVuY3Rpb24oaW1wb3J0U3RhdGVtZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGltcG9ydFN0YXRlbWVudC5zb3VyY2UudmFsdWU7XG4gICAgICBuYW1lID0gUGF0aC5yZXNvbHZlKFBhdGguZGlybmFtZShmaWxlKSwgbmFtZSk7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXC5qcyQvLCAnJykgKyAnLmpzJztcblxuICAgICAgaWYgKHRoaXMubG9hZGVkTW9kdWxlc1tuYW1lXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kICR7bmFtZX1gKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMubG9hZGVkTW9kdWxlc1tuYW1lXSkge1xuICAgICAgICB0aGlzLmNvbGxlY3REZXBlbmRlbmNpZXMobmFtZSk7XG4gICAgICAgIHRoaXMuY2hlY2tJbXBvcnRzKG5hbWUsIGltcG9ydFN0YXRlbWVudCk7XG4gICAgICB9XG4gICAgfSwgdGhpcyk7XG5cbiAgICB0aGlzLmxvYWRlZE1vZHVsZXNbZmlsZV0gPSBjb21waWxlcjtcbiAgICB0aGlzLmZpbGVMaXN0LnB1c2goZmlsZSk7XG5cbiAgICByZXR1cm4gdGhpcy5maWxlTGlzdDtcbiAgfVxuXG4gIHRvTG9jYWxzKCkge1xuICAgIHZhciBtb2R1bGVzID0gdGhpcy5sb2FkZWRNb2R1bGVzO1xuXG4gICAgdmFyIG91dCA9IHRoaXMub3B0aW9uc1snZXhwb3J0J10gPyBgdmFyICR7dGhpcy5vcHRpb25zWydleHBvcnQnXX0gPSBgIDogJyc7XG4gICAgb3V0ICs9ICcoZnVuY3Rpb24oKSB7XFxuJztcbiAgICBvdXQgKz0gdGhpcy5maWxlTGlzdC5tYXAoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgdmFyIGNvbXBpbGVyID0gbW9kdWxlc1tmaWxlXTtcbiAgICAgIHJldHVybiBgLy8gJHtmaWxlfVxcbiR7Y29tcGlsZXIudG9Mb2NhbHMoKX1gO1xuICAgIH0pLmpvaW4oJ1xcbicpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uc1snZXhwb3J0J10pIHtcbiAgICAgIG91dCArPSAnXFxuICByZXR1cm4gX19tb2R1bGUwX187JztcbiAgICB9XG4gICAgb3V0ICs9ICdcXG59KSgpO1xcbic7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuXG4gIGNoZWNrSW1wb3J0cyhuYW1lLCBpbXBvcnRTdGF0ZW1lbnQpIHtcbiAgICB2YXIgaW1wb3J0ZWQgPSB0aGlzLmxvYWRlZE1vZHVsZXNbbmFtZV0sXG4gICAgICAgIGV4cG9ydHMgPSBpbXBvcnRlZC5leHBvcnRzO1xuXG4gICAgaWYgKGltcG9ydFN0YXRlbWVudC5raW5kID09PSAnZGVmYXVsdCcpIHtcbiAgICAgIGlmICghXy5hbnkoZXhwb3J0cywgZnVuY3Rpb24oZXhwb3J0XykgeyByZXR1cm4gZXhwb3J0X1snZGVmYXVsdCddOyB9KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGRlZmF1bHQgZXhwb3J0IGZvciBcIiR7bmFtZX1cImApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW1wb3J0U3RhdGVtZW50LmtpbmQgPT09ICduYW1lZCcpIHtcbiAgICAgIF8uZWFjaChpbXBvcnRTdGF0ZW1lbnQuc3BlY2lmaWVycywgZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICAgIHZhciBzcGVjaWZpZXJOYW1lID0gc3BlY2lmaWVyLmlkLm5hbWU7XG5cbiAgICAgICAgdmFyIGV4cG9ydGVkID0gXy5hbnkoZXhwb3J0cywgZnVuY3Rpb24oZXhwb3J0Xykge1xuICAgICAgICAgIGlmIChleHBvcnRfLnNwZWNpZmllcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmFueShleHBvcnRfLnNwZWNpZmllcnMsIGZ1bmN0aW9uKGV4cG9ydFNwZWNpZmllcikge1xuICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0U3BlY2lmaWVyLmlkLm5hbWUgPT09IHNwZWNpZmllck5hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV4cG9ydF8uZGVjbGFyYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChleHBvcnRfLmRlY2xhcmF0aW9uLnR5cGUgPT09ICdWYXJpYWJsZURlY2xhcmF0aW9uJykge1xuICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0Xy5kZWNsYXJhdGlvbi5kZWNsYXJhdGlvbnNbMF0uaWQubmFtZSA9PT0gc3BlY2lmaWVyTmFtZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhwb3J0Xy5kZWNsYXJhdGlvbi50eXBlID09PSAnRnVuY3Rpb25EZWNsYXJhdGlvbicpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydF8uZGVjbGFyYXRpb24uaWQubmFtZSA9PT0gc3BlY2lmaWVyTmFtZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhwb3J0Xy5kZWNsYXJhdGlvbi50eXBlID09PSAnSW5kZW50aWZpZXInKSB7XG4gICAgICAgICAgICAgIHJldHVybiBleHBvcnRfLmRlY2xhcmF0aW9uLm5hbWUgPT09IHNwZWNpZmllck5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFleHBvcnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZXhwb3J0IG5hbWVkIFwiJHtzcGVjaWZpZXJOYW1lfVwiIGluIFwiJHtuYW1lfVwiYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBEZXBlbmRlbmN5TWFwO1xuXG4vLyBUT0RPIDogQ3JlYXRlIGEgaW5wdXQgbWFwIGZyb20gdGhlIGxpc3QgZ2VuZXJhdGVkIGhlcmUiXX0=