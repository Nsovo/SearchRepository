// a test where we validate the siguature of the keys
// otherwise exactly the same as the ssl test

var server = require('./server')
  , assert = require('assert')
  , request = require('../index')
  , fs = require('fs')
  , path = require('path')
  , opts = { key: path.resolve(__dirname, 'ssl/ca/server.key')
           , cert: path.resolve(__dirname, 'ssl/ca/server.crt') }
  , s = server.createSSLServer(null, opts)
  , caFile = path.resolve(__dirname, 'ssl/ca/ca.crt')
  , ca = fs.readFileSync(caFile)

var